(this.webpackJsonpstiftundblock=this.webpackJsonpstiftundblock||[]).push([[0],{48:function(e,t,n){e.exports=n(57)},53:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),c=n.n(l),o=(n(53),n(28)),u=n(39),i=n(99),m=n(31),s=n(100),d=n(97),p=n(85),f=n(86),E=n(87),g=n(88),y=n(89),v=n(90),h=n(91),b=n(92),w=n(93),S=n(94),k=n(30),O=function(e,t){switch(t.type){case"NextRound":return Object(k.a)({},e,{rounds:[].concat(Object(o.a)(e.rounds),[t.scores])});case"SetPlayers":return Object(k.a)({},e,{players:t.payload});case"Reset":return Object(k.a)({},t.state);default:return e}},N=function(e,t){return t.reduce((function(t,n){return t+n[e]}),0)},R=function(e){return function(e){return Object.keys(e)}(e).length},A=function(){var e=Object(a.useReducer)(O,{players:[],rounds:[]}),t=Object(u.a)(e,2),n=t[0],l=t[1],c=R(n.players);return r.a.useEffect((function(){var e=window.localStorage.getItem("WIZARD");try{var t=JSON.parse(e||"");l({type:"Reset",state:t})}catch(n){}}),[l]),r.a.useEffect((function(){window.localStorage.setItem("WIZARD",JSON.stringify(n))}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{mt:3,mb:3},r.a.createElement(m.a,null,"WIZARD")),0===c?r.a.createElement(W,{onSubmit:function(e){return l({type:"SetPlayers",payload:e})}}):r.a.createElement(P,{addScore:function(e){return l({type:"NextRound",scores:e})},state:n}),n.players.length>0&&r.a.createElement(i.a,{mt:6},r.a.createElement(s.a,{onClick:function(){return l({type:"Reset",state:{players:[],rounds:[]}})},variant:"contained",color:"primary"},"neues spiel")))},j=function(e){var t=e.players,n=e.onSubmit;return r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault();var a=t.map((function(t){return Number(e.currentTarget[t].value)}));n(a),e.currentTarget.reset()}},r.a.createElement(m.a,null,"Punkte:"),t.map((function(e){return r.a.createElement(d.a,{variant:"outlined",key:e,label:"Punkte von ".concat(e),placeholder:"Punkte",required:!0,fullWidth:!0,margin:"normal",type:"tel",name:e,inputProps:{pattern:"-?[0-9]*"}})})),r.a.createElement(s.a,{variant:"contained",type:"submit"},"punkte speichern"))},P=function(e){var t=e.state,n=e.addScore,a=function(e){var t=function(e){return e.players}(e),n=R(t),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return 60/e}(n),r=e.rounds.length+1;return{rounds:a,cardAmount:r,leaderBoard:t.map((function(t,n){return{name:t,score:N(n,e.rounds)}})).sort((function(e,t){return t.score-e.score})),dealer:t[(r-1)%n]}}(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(f.a,{title:"Runde ".concat(a.cardAmount," von ").concat(a.rounds),subheader:1===a.cardAmount?"".concat(a.cardAmount," Karte wird verteilt - Es gibt ").concat(a.dealer):"".concat(a.cardAmount," Karten werden verteilt - Es gibt ").concat(a.dealer)}),r.a.createElement(E.a,null,r.a.createElement(j,{onSubmit:n,players:t.players}),r.a.createElement(g.a,{style:{margin:"2rem 0"}}),r.a.createElement(m.a,null,"Wertung"),r.a.createElement(y.a,null,r.a.createElement(v.a,null,r.a.createElement(h.a,null,r.a.createElement(b.a,null,r.a.createElement(w.a,null,"Platz"),r.a.createElement(w.a,{align:"right"},"Name"),r.a.createElement(w.a,{align:"right"},"Punkte"))),r.a.createElement(S.a,null,a.leaderBoard.map((function(e,t){return r.a.createElement(b.a,{key:e.name},r.a.createElement(w.a,{component:"th",scope:"row"},t+1),r.a.createElement(w.a,{align:"right"},e.name),r.a.createElement(w.a,{align:"right"},e.score))}))))))))},W=function(e){var t=e.onSubmit,n=e.count,a=Array(void 0===n?6:n).fill("");return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=a.map((function(t,n){return e.target["playerName".concat(n+1)].value})).filter((function(e){return e.length}));Object(o.a)(new Set(n)).length!==n.length?alert("Jeder spieler sollte einen eindeutigen namen haben ;)"):t(n)}},a.map((function(e,t){return r.a.createElement(d.a,{variant:"outlined",required:t<3,key:t,autoComplete:"off",label:"Spieler ".concat(t+1),name:"playerName".concat(t+1),placeholder:"Name",margin:"normal",type:"text",fullWidth:!0})})),r.a.createElement(s.a,{variant:"contained",color:"primary",type:"submit"},"spiel starten"))},I=n(95),D=n(96);var B=function(){return r.a.createElement("div",null,r.a.createElement(I.a,{position:"static"},r.a.createElement(m.a,{variant:"h6"},"STIFT UND BLOCK")),r.a.createElement(D.a,null,r.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.04208bf0.chunk.js.map