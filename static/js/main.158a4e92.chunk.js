(this.webpackJsonpstiftundblock=this.webpackJsonpstiftundblock||[]).push([[0],{48:function(e,t,n){e.exports=n(57)},53:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),l=(n(53),n(27)),u=n(38),i=n(95),m=n(30),s=n(86),d=n(93),f=n(87),p=n(88),y=n(89),E=n(90),v=n(96),b=n(97),g=n(29),h=function(e,t){switch(t.type){case"NextRound":return Object(g.a)({},e,{rounds:[].concat(Object(l.a)(e.rounds),[t.scores])});case"SetPlayers":return Object(g.a)({},e,{players:t.payload});case"Reset":return Object(g.a)({},t.state);default:return e}},S=function(e,t){return t.reduce((function(t,n){return t+n[e]}),0)},w=function(e){return function(e){return Object.keys(e)}(e).length},k=function(){var e=Object(a.useReducer)(h,{players:[],rounds:[]}),t=Object(u.a)(e,2),n=t[0],c=t[1],o=w(n.players);return r.a.useEffect((function(){var e=window.localStorage.getItem("WIZARD");try{var t=JSON.parse(e||"");c({type:"Reset",state:t})}catch(n){}}),[c]),r.a.useEffect((function(){window.localStorage.setItem("WIZARD",JSON.stringify(n))}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{mt:3},r.a.createElement(m.a,null,"WIZARD")),0===o?r.a.createElement(N,{onSubmit:function(e){return c({type:"SetPlayers",payload:e})}}):r.a.createElement(R,{addScore:function(e){return c({type:"NextRound",scores:e})},state:n}),r.a.createElement(i.a,{mt:6},r.a.createElement(s.a,{onClick:function(){return c({type:"Reset",state:{players:[],rounds:[]}})},variant:"contained",color:"primary"},"neues spiel")))},O=function(e){var t=e.players,n=e.onSubmit;return r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault();var a=t.map((function(t){return Number(e.currentTarget[t].value)}));n(a),e.currentTarget.reset()}},r.a.createElement(m.a,null,"Punkte:"),t.map((function(e){return r.a.createElement(d.a,{variant:"outlined",key:e,label:"Punkte von ".concat(e),placeholder:"Punkte",required:!0,fullWidth:!0,margin:"normal",type:"number",name:e})})),r.a.createElement(s.a,{variant:"contained",type:"submit"},"n\xe4chste runde"))},R=function(e){var t=e.state,n=e.addScore,a=function(e){var t=function(e){return e.players}(e),n=w(t),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return 60/e}(n),r=e.rounds.length+1;return{rounds:a,cardAmount:r,leaderBoard:t.map((function(t,n){return{name:t,score:S(n,e.rounds)}})).sort((function(e,t){return t.score-e.score})),dealer:t[(r-1)%n]}}(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(p.a,{title:"Runde ".concat(a.cardAmount," von ").concat(a.rounds),subheader:"".concat(a.cardAmount," Karten werden verteilt Es gibt ").concat(a.dealer)}),r.a.createElement(y.a,null,r.a.createElement(O,{onSubmit:n,players:t.players}),r.a.createElement(E.a,{style:{margin:"2rem 0"}}),r.a.createElement(m.a,null,"Siegertreppchen"),a.leaderBoard.map((function(e,t){return r.a.createElement(i.a,{mt:2},r.a.createElement(v.a,{color:"primary",label:r.a.createElement(r.a.Fragment,null,e.name," ",e.score),avatar:r.a.createElement(b.a,null,t+1)}))})))))},N=function(e){var t=e.onSubmit,n=e.count,a=Array(void 0===n?6:n).fill("");return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=a.map((function(t,n){return e.target["playerName".concat(n+1)].value})).filter((function(e){return e.length}));Object(l.a)(new Set(n)).length!==n.length?alert("Jeder spieler sollte einen eindeutigen namen haben ;)"):t(n)}},a.map((function(e,t){return r.a.createElement(d.a,{variant:"outlined",required:t<3,key:t,autoComplete:"off",label:"Spieler ".concat(t+1),name:"playerName".concat(t+1),placeholder:"Name",margin:"normal",type:"text",fullWidth:!0})})),r.a.createElement(s.a,{variant:"contained",color:"primary",type:"submit"},"spiel starten"))},j=n(91),A=n(92);var I=function(){return r.a.createElement("div",null,r.a.createElement(j.a,{position:"static"},r.a.createElement(m.a,{variant:"h6"},"STIFT UND BLOCK")),r.a.createElement(A.a,null,r.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.158a4e92.chunk.js.map