(this.webpackJsonpstiftundblock=this.webpackJsonpstiftundblock||[]).push([[0],{48:function(e,t,n){e.exports=n(57)},53:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),l=(n(53),n(37)),u=n(94),i=n(29),m=n(86),s=n(92),d=n(87),f=n(88),p=n(89),y=n(95),E=n(96),v=n(38),b=n(28),h=function(e,t){switch(t.type){case"NextRound":return Object(b.a)({},e,{rounds:[].concat(Object(v.a)(e.rounds),[t.scores])});case"SetPlayers":return Object(b.a)({},e,{players:t.payload});case"Reset":return Object(b.a)({},t.state);default:return e}},g=function(e,t){return t.reduce((function(t,n){return t+n[e]}),0)},S=function(e){return function(e){return Object.keys(e)}(e).length},w=function(){var e=Object(a.useReducer)(h,{players:[],rounds:[]}),t=Object(l.a)(e,2),n=t[0],c=t[1],o=S(n.players);return r.a.useEffect((function(){var e=window.localStorage.getItem("WIZARD");try{var t=JSON.parse(e||"");c({type:"Reset",state:t})}catch(n){}}),[c]),r.a.useEffect((function(){window.localStorage.setItem("WIZARD",JSON.stringify(n))}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{mt:3},r.a.createElement(i.a,null,"WIZARD")),0===o?r.a.createElement(R,{onSubmit:function(e){return c({type:"SetPlayers",payload:e})}}):r.a.createElement(O,{addScore:function(e){return c({type:"NextRound",scores:e})},state:n}),r.a.createElement(u.a,{mt:6},r.a.createElement(m.a,{onClick:function(){return c({type:"Reset",state:{players:[],rounds:[]}})},variant:"contained",color:"primary"},"neues spiel")))},k=function(e){var t=e.players,n=e.onSubmit;return r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault();var a=t.map((function(t){return Number(e.currentTarget[t].value)}));n(a),e.currentTarget.reset()}},r.a.createElement(i.a,null,"Punkte:"),t.map((function(e){return r.a.createElement(s.a,{key:e,label:e,placeholder:"Punkte",required:!0,fullWidth:!0,margin:"normal",type:"number",name:e})})),r.a.createElement(d.a,null,r.a.createElement(m.a,{variant:"contained",type:"submit"},"n\xe4chste runde")))},O=function(e){var t=e.state,n=e.addScore,a=function(e){var t=function(e){return e.players}(e),n=S(t),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return 60/e}(n),r=e.rounds.length+1;return{rounds:a,cardAmount:r,leaderBoard:t.map((function(t,n){return{name:t,score:g(n,e.rounds)}})).sort((function(e,t){return t.score-e.score})),dealer:t[r%n]}}(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(f.a,{title:"Runde ".concat(a.cardAmount," von ").concat(a.rounds),subheader:"".concat(a.cardAmount," Karten werden verteilt Es gibt ").concat(a.dealer)}),r.a.createElement(p.a,null,r.a.createElement(k,{onSubmit:n,players:t.players}),r.a.createElement(u.a,{m:5},r.a.createElement(i.a,null,"Siegertreppchen"),r.a.createElement(u.a,{mt:2,display:"flex",justifyContent:"space-between"},a.leaderBoard.map((function(e,t){return r.a.createElement(y.a,{color:"primary",label:r.a.createElement(r.a.Fragment,null,e.name," ",e.score),avatar:r.a.createElement(E.a,null,t+1)})})))))))},R=function(e){var t=e.onSubmit,n=e.count,a=Array(void 0===n?6:n).fill("");return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=a.map((function(t,n){return e.target["playerName".concat(n+1)].value})).filter((function(e){return e.length}));t(n)}},a.map((function(e,t){return r.a.createElement(s.a,{required:t<3,key:t,autoComplete:"off",label:"Spieler ".concat(t+1),name:"playerName".concat(t+1),placeholder:"Name",margin:"normal",type:"text",fullWidth:!0})})),r.a.createElement(m.a,{variant:"contained",color:"primary",type:"submit"},"spiel starten"))},N=n(90),j=n(91);var A=function(){return r.a.createElement("div",null,r.a.createElement(N.a,{position:"static"},r.a.createElement(i.a,{variant:"h6"},"STIFT UND BLOCK")),r.a.createElement(j.a,null,r.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.ede9b45b.chunk.js.map